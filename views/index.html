<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>todo</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  </head>
  <body>
      <v-app  id="todoPage">
        <v-container>
          <v-row justify="center" align-content="center">
            <v-col cols=10>
              <h1 class="text-center">todo</h1>
              <v-data-table
                :headers="header"
                :items="todoList"
                item-key="id"
              >
                <template v-slot:item.action="{ item }">
                  <v-btn small color="error" @click="removeConfirmationDialog = true, removeID = item.id">削除</v-btn> 
                </template>
              </v-data-table>

              <form id="schedule_data">
                <div class="schedule">
                  <v-text-field
                    :counter="255"
                    name="schedule"
                    v-model="todoList.schedule"
                    label="予定を入力してください"
                  />
                </div>
                優先度
                <v-radio-group v-model="todoList.priority">
                    <v-radio label="高" value="高"/></v-radio>
                    <v-radio label="中" value="中"/></v-radio>
                    <v-radio label="低" value="低"/></v-radio>
                </v-radio-group>
                <div class="time-limit">
                  <v-menu>
                    <template v-slot:activator="{on}">
                      <v-btn icon color="primary" v-on="on">
                        <v-icon>mdi-calendar</v-icon>
                      </v-btn> 
                    </template>
                    <v-date-picker  locale="ja" v-model="todoList.time_limit">
                  </v-menu>
                  
                  <v-text-field
                    :counter="255"
                    name="time_limit"
                    v-model="todoList.time_limit"
                    label="期限を入力してください"
                  />
                </div>
                <div class="text-center">
                  <v-btn color="primary" id="register" v-on:click="register">
                    登録
                  </v-btn>
                </div>
              </form>
            </v-col>
          </v-row>
          
          <v-dialog v-model="removeConfirmationDialog" persistent max-width="350">
            <v-card>
              <v-row justify="center" align-content="center" no-gutters>
                <v-card-title>削除確認</v-card-title>
                <v-card-text class="text-center">本当に削除しますか？</v-card-text>
                <v-card-actions>
                  <v-btn @click="removeConfirmationDialog = false">キャンセル</v-btn>
                  <v-btn　color="error" @click="remove()">削除</v-btn>
                </v-card-actions>
              </v-row>
            </v-card>
          </v-dialog>

          <v-dialog v-model="finishedDialog" persistent max-width="350">
            <v-card>
              <v-row justify="center" align-content="center" no-gutters>
                <v-card-title></v-card-title>
                <v-card-text class="text-center">
                  <v-icon color="green">mdi-checkbox-marked-circle</v-icon>
                  {{finishType}}しました。
                </v-card-text>
                <v-card-actions>
                  <v-btn @click="finishedDialog = false">閉じる</v-btn>
                </v-card-actions>
              </v-row>
            </v-card>
          </v-dialog>

          <v-dialog v-model="errorDialog" persistent max-width="350">
            <v-card>
              <v-row justify="center" align-content="center" no-gutters>
                <v-card-title></v-card-title>
                <v-card-text class="text-center">
                  <v-icon color="error">mdi-cancel</v-icon>
                  エラーが発生しました。
                </v-card-text>
                <v-card-actions>
                  <v-btn @click="errorDialog = false">閉じる</v-btn>
                </v-card-actions>
              </v-row>
            </v-card>
          </v-dialog>
         
        </v-container>
      </v-app>
    <script type="text/javascript" src="index.js"></script>
  </body>
</html>
